<div class="w-full p-2 bg-blue-custom">
  <section class="w-full p-2 bg-blue-900 rounded-md flex items-center justify-between flex-wrap gap-4">
    <p-buttonGroup>
      <button pButton icon="pi pi-copy" class="custom-focus-ring bg-blue-950 border border-transparent hover:bg-blue-800"></button>
      <button pButton icon="pi pi-file-excel" class="custom-focus-ring bg-blue-950 border border-transparent hover:bg-blue-800"></button>
      <button pButton icon="pi pi-database" class="custom-focus-ring bg-blue-950 border border-transparent hover:bg-blue-800"></button>
      <button pButton icon="pi pi-print" class="custom-focus-ring bg-blue-950 border border-transparent hover:bg-blue-800"></button>
    </p-buttonGroup>

    <div class="flex flex-row items-center gap-2">
      <p-calendar [(ngModel)]="fechaDesde" [iconDisplay]="'input'" [showIcon]="true" inputId="icondisplay" placeholder="Desde" />
      <p-calendar [(ngModel)]="fechaHasta" [iconDisplay]="'input'" [showIcon]="true" inputId="icondisplay" placeholder="Hasta" />
      <p-button icon="pi pi-search" type="button" severity="success" (onClick)="onDateChange()" />
    </div>
  </section>
</div>

<section>
  <p-table styleClass="p-datatable-striped p-datatable-sm" [tableStyle]="{ 'min-width': '100rem' }" [value]="payList" [paginator]="true" [rows]="6">
    <ng-template pTemplate="header" let-columns>
      <tr>
        <th pSortableColumn="id" style="min-width: 5rem">ID<p-sortIcon field="name" /></th>
        <th pSortableColumn="userId" style="min-width: 5rem">Usuario<p-sortIcon field="name" /></th>
        <th pSortableColumn="cuentaId" style="min-width: 3rem">
          <div class="flex justify-between items-center">
            Cta. contrato
            <p-sortIcon field="cuentaId" />
            <p-columnFilter
              type="text"
              field="cuentaId"
              display="menu"
              class="ml-auto"
              [showMatchModes]="false"
              [showOperator]="false"
              [showAddButton]="false"
              placeholder="Buscar contrato"
            />
          </div>
        </th>
        <th pSortableColumn="createdAt" style="min-width: 5rem">Fecha creación<p-sortIcon field="createdAt" /></th>

        <th pSortableColumn="updatedAt">Fecha modificación <p-sortIcon field="updatedAt" /></th>
        <th pSortableColumn="lapso">Lapso <p-sortIcon field="lapso" /></th>
        <th pSortableColumn="description" style="min-width: 3rem">
          <div class="flex justify-between items-center">
            Estado
            <p-columnFilter
              type="text"
              field="description"
              display="menu"
              class="ml-auto"
              [showMatchModes]="false"
              [showOperator]="false"
              [showAddButton]="false"
              placeholder="Buscar estado"
            />
          </div>
        </th>
        <th>Opciones</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-pay let-columns="columns">
      <tr>
        <td>{{ pay.id }}</td>
        <td>{{ pay.userId }}</td>
        <td>{{ pay.cuentaId }}</td>
        <td>{{ pay.createdAt | date : 'short' }}</td>
        <td>{{ pay.updatedAt | date : 'short' }}</td>
        <td>{{ pay.lapso }} dias</td>
        <td><p-tag [value]="pay.description" [severity]="getSeverity(pay.description)" /></td>

        <td>
          <p-buttonGroup>
            <p-button size="small" icon="pi pi-pen-to-square" severity="success" />
            <p-button size="small" icon="pi pi-trash" severity="danger" />
          </p-buttonGroup>
        </td>
      </tr>
    </ng-template>

    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="8">No hay datos en el momento.</td>
      </tr>
    </ng-template>
  </p-table>
</section>
